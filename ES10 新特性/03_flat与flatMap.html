<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ES10 - flat于flatMap</title>
</head>
<body>
    <script>
        //flat 将多维数组转换为低维数组
        let arr = [1,2,3,4,5,[6,7]];
        let result = arr.flat();
        //flat 可以传入一个参数，该参数为'拉平'的深度
        console.log();
        let arr2 = [1,[2,3,[4,5,6]]];
        console.log(arr2.flat()); // 默认为一层 (4) [1, 2, 3, Array(3)]
        console.log(arr2.flat(2)); // 设置为两层 (6) [1, 2, 3, 4, 5, 6]
        console.log(result); //(7) [1, 2, 3, 4, 5, 6, 7]
        
        //map 可以遍历数组中的每个元素进行'映射'
        console.log(result.map(item => item * 10)); //(7) [10, 20, 30, 40, 50, 60, 70]

        //flatMap 将 map 和 flat 结合起来，可以将因 map 映射成为数组的元素再次拉平(只拉平一层)
        console.log(result.map(item => [item * 10])); //(7) [Array(1), Array(1), Array(1), Array(1), Array(1), Array(1), Array(1)]
        console.log(result.flatMap(item => [item * 2 * 2])); //(7) [4, 8, 12, 16, 20, 24, 28]
    </script>
</body>
</html>